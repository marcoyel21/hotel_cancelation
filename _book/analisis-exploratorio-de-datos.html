<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capitulo 2 Analisis Exploratorio de Datos | Proyecto Final: Hotel Cancelation</title>
  <meta name="description" content="Este es el reporte final del proyecto final sobre el concurso de Kaggle de predicción de cancelación en hoteles." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Capitulo 2 Analisis Exploratorio de Datos | Proyecto Final: Hotel Cancelation" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este es el reporte final del proyecto final sobre el concurso de Kaggle de predicción de cancelación en hoteles." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capitulo 2 Analisis Exploratorio de Datos | Proyecto Final: Hotel Cancelation" />
  
  <meta name="twitter:description" content="Este es el reporte final del proyecto final sobre el concurso de Kaggle de predicción de cancelación en hoteles." />
  

<meta name="author" content="Alex Joel Marco" />


<meta name="date" content="2021-12-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="preparación-de-los-datos.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#proyecto"><i class="fa fa-check"></i><b>1.1</b> Proyecto</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#descripción-del-problema"><i class="fa fa-check"></i><b>1.2</b> Descripción del problema</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#objetivo"><i class="fa fa-check"></i><b>1.3</b> Objetivo</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#fuente-de-datos"><i class="fa fa-check"></i><b>1.4</b> Fuente de datos</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#ambiente"><i class="fa fa-check"></i><b>1.5</b> Ambiente</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="analisis-exploratorio-de-datos.html"><a href="analisis-exploratorio-de-datos.html"><i class="fa fa-check"></i><b>2</b> Analisis Exploratorio de Datos</a>
<ul>
<li class="chapter" data-level="2.0.1" data-path="analisis-exploratorio-de-datos.html"><a href="analisis-exploratorio-de-datos.html#cancelaciones-eda"><i class="fa fa-check"></i><b>2.0.1</b> Cancelaciones EDA</a></li>
<li class="chapter" data-level="2.0.2" data-path="analisis-exploratorio-de-datos.html"><a href="analisis-exploratorio-de-datos.html#análisis-de-tendenciás-en-el-tiempo-eda"><i class="fa fa-check"></i><b>2.0.2</b> Análisis de tendenciás en el tiempo EDA</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="preparación-de-los-datos.html"><a href="preparación-de-los-datos.html"><i class="fa fa-check"></i><b>3</b> Preparación de los Datos</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="preparación-de-los-datos.html"><a href="preparación-de-los-datos.html#preprocesamiento"><i class="fa fa-check"></i><b>3.0.1</b> Preprocesamiento</a></li>
<li class="chapter" data-level="3.0.2" data-path="preparación-de-los-datos.html"><a href="preparación-de-los-datos.html#ingeniería-de-caracterísitcas"><i class="fa fa-check"></i><b>3.0.2</b> Ingeniería de caracterísitcas</a></li>
<li class="chapter" data-level="3.1" data-path="preparación-de-los-datos.html"><a href="preparación-de-los-datos.html#cv"><i class="fa fa-check"></i><b>3.1</b> CV</a></li>
<li class="chapter" data-level="3.2" data-path="preparación-de-los-datos.html"><a href="preparación-de-los-datos.html#nivelación-de-variables"><i class="fa fa-check"></i><b>3.2</b> Nivelación de variables</a></li>
<li class="chapter" data-level="3.3" data-path="preparación-de-los-datos.html"><a href="preparación-de-los-datos.html#matrices-ralas"><i class="fa fa-check"></i><b>3.3</b> Matrices RALAS</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modeling.html"><a href="modeling.html"><i class="fa fa-check"></i><b>4</b> Modeling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="modeling.html"><a href="modeling.html#cross-validated-lasso-logit"><i class="fa fa-check"></i><b>4.1</b> Cross-Validated LASSO-logit</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="modeling.html"><a href="modeling.html#grafica-lasso-de-los-coeficientes-vs-la-complejidad-del-modelo."><i class="fa fa-check"></i><b>4.1.1</b> Grafica Lasso de los coeficientes vs la complejidad del modelo.</a></li>
<li class="chapter" data-level="4.1.2" data-path="modeling.html"><a href="modeling.html#hiper-parametro"><i class="fa fa-check"></i><b>4.1.2</b> Hiper parametro</a></li>
<li class="chapter" data-level="4.1.3" data-path="modeling.html"><a href="modeling.html#variables"><i class="fa fa-check"></i><b>4.1.3</b> Variables</a></li>
<li class="chapter" data-level="4.1.4" data-path="modeling.html"><a href="modeling.html#log-loss-test-oos"><i class="fa fa-check"></i><b>4.1.4</b> LOG LOSS test OOS</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="modeling.html"><a href="modeling.html#xgboosting"><i class="fa fa-check"></i><b>4.2</b> XGBOOSTING</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="conclusiones.html"><a href="conclusiones.html"><i class="fa fa-check"></i><b>5</b> Conclusiones</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Proyecto Final: Hotel Cancelation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analisis-exploratorio-de-datos" class="section level1" number="2">
<h1><span class="header-section-number">Capitulo 2</span> Analisis Exploratorio de Datos</h1>
<p>Con el fin de entender los datos realizamos una revisión general de estos (solamente de la base de datos de entrenamiento posterior a haberla dividido en entrenamiento, validación y prueba) y tratamos de identificar aquellas variables que pudieran ser interesantes para nuestro estudio. A continuación se muestra una breve parte de la exploración de datos. Si desea consultar el análisis completo puede encontrarlo en la siguiente liga <a href="https://github.com/marcoyel21/hotel_cancelation_ML21/blob/main/final/EDA_Cancelaciones.Rmd">EDA</a>.</p>
<p>El data set está compuesto por las siguientes variables:</p>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Variable</th>
<th align="center">Tipo</th>
<th align="center">Descripción</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">ADR</td>
<td align="center">Numeric</td>
<td align="center">Tarifa diaria promedio definida por [5]</td>
</tr>
<tr class="even">
<td align="center">Adults</td>
<td align="center">Integer</td>
<td align="center">Número de Adultos</td>
</tr>
<tr class="odd">
<td align="center">Agent</td>
<td align="center">Categorical</td>
<td align="center">DNI de la agencia de viajes que realizó la reservaa</td>
</tr>
<tr class="even">
<td align="center">ArrivalDateDayOfMonth</td>
<td align="center">Integer</td>
<td align="center">Día del mes de la fecha de llegada</td>
</tr>
<tr class="odd">
<td align="center">ArrivalDateMonth</td>
<td align="center">Categorical</td>
<td align="center">Mes de la fecha de llegada con 12 categorías: “enero” a “diciembre”</td>
</tr>
<tr class="even">
<td align="center">ArrivalDateWeekNumber</td>
<td align="center">Integer</td>
<td align="center">Número de semana de la fecha de llegada</td>
</tr>
<tr class="odd">
<td align="center">ArrivalDateYear</td>
<td align="center">Integer</td>
<td align="center">Año de la fecha de llegada</td>
</tr>
<tr class="even">
<td align="center">AssignedRoomType</td>
<td align="center">Categorical</td>
<td align="center">Código del tipo de habitación asignada a la reserva. A veces, el tipo de habitación asignada difiere del tipo de habitación reservada debido a razones de operación del hotel (por ejemplo, overbooking) o por solicitud del cliente. El código se presenta en lugar de la designación por razones de anonimato</td>
</tr>
<tr class="odd">
<td align="center">Babies</td>
<td align="center">Integer</td>
<td align="center">Numero de bebes</td>
</tr>
<tr class="even">
<td align="center">BookingChanges</td>
<td align="center">Integer</td>
<td align="center">Número de cambios / modificaciones realizadas a la reserva desde el momento en que se ingresó la reserva en el PMS hasta el momento del check-in o la cancelación</td>
</tr>
<tr class="odd">
<td align="center">Children</td>
<td align="center">Integer</td>
<td align="center">Numero de niños</td>
</tr>
<tr class="even">
<td align="center">Company</td>
<td align="center">Categorical</td>
<td align="center">DNI de la empresa / entidad que realizó la reserva o responsable del pago de la reserva. La identificación se presenta en lugar de la designación por razones de anonimato</td>
</tr>
<tr class="odd">
<td align="center">Country</td>
<td align="center">Categorical</td>
<td align="center">País de origen. Las categorías están representadas en el formato ISO 3155-3: 2013 [6]</td>
</tr>
<tr class="even">
<td align="center">CustomerType</td>
<td align="center">Categorical</td>
<td align="center">Tipo de reserva, asumiendo una de cuatro categorías:</td>
</tr>
<tr class="odd">
<td align="center">DaysInWaitingList</td>
<td align="center">Integer</td>
<td align="center">Número de días que la reserva estuvo en lista de espera antes de que fuera confirmada al cliente</td>
</tr>
<tr class="even">
<td align="center">DepositType</td>
<td align="center">Categorical</td>
<td align="center">Indicación sobre si el cliente realizó un depósito para garantizar la reserva. Esta variable puede asumir tres categorías:</td>
</tr>
<tr class="odd">
<td align="center">DistributionChannel</td>
<td align="center">Categorical</td>
<td align="center">Canal de distribución de reservas. El término “TA” significa “Agentes de viajes” y “TO” significa “Operadores turísticos”</td>
</tr>
<tr class="even">
<td align="center"><strong>IsCanceled</strong></td>
<td align="center"><strong>Categorical</strong></td>
<td align="center"><strong>Valor que indica si la reserva fue cancelada (1) o no (0)</strong></td>
</tr>
<tr class="odd">
<td align="center">IsRepeatedGuest</td>
<td align="center">Categorical</td>
<td align="center">Valor que indica si el nombre de la reserva fue de un huésped repetido (1) o no (0)</td>
</tr>
<tr class="even">
<td align="center">LeadTime</td>
<td align="center">Integer</td>
<td align="center">Número de días transcurridos entre la fecha de entrada de la reserva en el PMS y la fecha de llegada</td>
</tr>
<tr class="odd">
<td align="center">MarketSegment</td>
<td align="center">Categorical</td>
<td align="center">Designación de segmento de mercado. En las categorías, el término “TA” significa “Agentes de viajes” y “TO” significa “Operadores turísticos”</td>
</tr>
<tr class="even">
<td align="center">Meal</td>
<td align="center">Categorical</td>
<td align="center">Tipo de comida reservada. Las categorías se presentan en paquetes de comidas de hospitalidad estándar:</td>
</tr>
<tr class="odd">
<td align="center">PreviousBookingsNotCanceled</td>
<td align="center">Integer</td>
<td align="center">Número de reservas anteriores no canceladas por el cliente antes de la reserva actual</td>
</tr>
<tr class="even">
<td align="center">PreviousCancellations</td>
<td align="center">Integer</td>
<td align="center">Número de reservas anteriores que fueron canceladas por el cliente antes de la reserva actual</td>
</tr>
<tr class="odd">
<td align="center">RequiredCardParkingSpaces</td>
<td align="center">Integer</td>
<td align="center">Número de plazas de aparcamiento requeridas por el cliente</td>
</tr>
<tr class="even">
<td align="center">ReservationStatus</td>
<td align="center">Categorical</td>
<td align="center">Último estado de la reserva, asumiendo una de tres categorías:</td>
</tr>
<tr class="odd">
<td align="center">ReservationStatusDate</td>
<td align="center">Date</td>
<td align="center">Fecha en la que se estableció el último estado. Esta variable se puede utilizar junto con ReservationStatus para comprender cuándo se canceló la reserva o cuándo se registró el cliente en el hotel.</td>
</tr>
<tr class="even">
<td align="center">ReservedRoomType</td>
<td align="center">Categorical</td>
<td align="center">Código del tipo de habitación reservado. El código se presenta en lugar de la designación por razones de anonimato</td>
</tr>
<tr class="odd">
<td align="center">StaysInWeekendNights</td>
<td align="center">Integer</td>
<td align="center">Número de noches de fin de semana (sábado o domingo) que el huésped se hospedó o reservó para alojarse en el hotel</td>
</tr>
<tr class="even">
<td align="center">StaysInWeekNights</td>
<td align="center">Integer</td>
<td align="center">Número de noches de la semana (de lunes a viernes) que el huésped se hospedó o reservó para alojarse en el hotel</td>
</tr>
<tr class="odd">
<td align="center">TotalOfSpecialRequests</td>
<td align="center">Integer</td>
<td align="center">Número de solicitudes especiales realizadas por el cliente (por ejemplo, dos camas individuales o piso alto)</td>
</tr>
</tbody>
</table>
<p>Nuestra variable de interés es <strong>IsCanceled</strong> la cual toma valores de 1 (fue cancelada) y 0 (no fue cancelada). Así que primero veamos la proporción de cancelaciones en los datos.</p>
<table>
<thead>
<tr class="header">
<th align="center">Cancelado</th>
<th align="center">No cancelado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">0.3620854</td>
<td align="center">0.6379146</td>
</tr>
</tbody>
</table>
<p>Usamos la función skim en la base de datos de entrenamiento para conocer las características generales de cada variable.</p>
<table>
<caption><span id="tab:unnamed-chunk-4">Table 2.1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">data</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">91531</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">30</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">13</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">17</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">hotel</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">12</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">is_canceled</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">12</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">arrival_date_month</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">12</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">meal</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">country</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">164</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">market_segment</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">13</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">distribution_channel</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">reserved_room_type</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">assigned_room_type</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">12</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">deposit_type</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">agent</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">302</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">company</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">329</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">customer_type</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">15</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">lead_time</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">96.29</td>
<td align="right">105.45</td>
<td align="right">0.00</td>
<td align="right">15</td>
<td align="right">58.0</td>
<td align="right">145</td>
<td align="right">737</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="even">
<td align="left">arrival_date_year</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2015.90</td>
<td align="right">0.61</td>
<td align="right">2015.00</td>
<td align="right">2016</td>
<td align="right">2016.0</td>
<td align="right">2016</td>
<td align="right">2017</td>
<td align="left">▃▁▇▁▂</td>
</tr>
<tr class="odd">
<td align="left">arrival_date_week_number</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">28.18</td>
<td align="right">15.01</td>
<td align="right">1.00</td>
<td align="right">13</td>
<td align="right">31.0</td>
<td align="right">41</td>
<td align="right">53</td>
<td align="left">▆▅▆▇▆</td>
</tr>
<tr class="even">
<td align="left">arrival_date_day_of_month</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">15.81</td>
<td align="right">8.76</td>
<td align="right">1.00</td>
<td align="right">8</td>
<td align="right">16.0</td>
<td align="right">23</td>
<td align="right">31</td>
<td align="left">▇▇▇▇▆</td>
</tr>
<tr class="odd">
<td align="left">stays_in_weekend_nights</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.90</td>
<td align="right">1.00</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">1.0</td>
<td align="right">2</td>
<td align="right">19</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">stays_in_week_nights</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.45</td>
<td align="right">1.94</td>
<td align="right">0.00</td>
<td align="right">1</td>
<td align="right">2.0</td>
<td align="right">3</td>
<td align="right">50</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">adults</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.84</td>
<td align="right">0.61</td>
<td align="right">0.00</td>
<td align="right">2</td>
<td align="right">2.0</td>
<td align="right">2</td>
<td align="right">55</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">children</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">0.09</td>
<td align="right">0.37</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">babies</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.01</td>
<td align="right">0.10</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">is_repeated_guest</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.03</td>
<td align="right">0.18</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">previous_cancellations</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.11</td>
<td align="right">0.96</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">26</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">previous_bookings_not_canceled</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.13</td>
<td align="right">1.40</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">61</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">booking_changes</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.21</td>
<td align="right">0.64</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">21</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">days_in_waiting_list</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.96</td>
<td align="right">19.93</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">391</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">adr</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">92.81</td>
<td align="right">46.72</td>
<td align="right">-6.38</td>
<td align="right">65</td>
<td align="right">86.4</td>
<td align="right">114</td>
<td align="right">5400</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">required_car_parking_spaces</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.07</td>
<td align="right">0.25</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">total_of_special_requests</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.53</td>
<td align="right">0.77</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">0.0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
<p>Podemos observar que:</p>
<ul>
<li><p>Tenemos 13 variables categorías, de las cuales podemos destacar que 3 tienen un número alto de categorías (country, agent, company).</p></li>
<li><p>Tenemos 17 variables numéricas.</p></li>
<li><p>En este primer acercamiento, podemos identificar que las variables corresponden a:</p>
<ul>
<li><p>Variables de tiempo: tiempo previo de reservación, fechas de llegada, duración de la reservación.</p></li>
<li><p>Características de reservación: agencia, país, canal de distribución, segmento de mercado, tipo de depósito, tarifa diaria</p></li>
<li><p>Características de los clientes y sus preferencias: adultos, bebes, tipo de hotel, tipo de habitación</p></li>
</ul></li>
</ul>
<div id="cancelaciones-eda" class="section level3" number="2.0.1">
<h3><span class="header-section-number">2.0.1</span> Cancelaciones EDA</h3>
<p>Ahora extraemos el subconjunto de cancelados para hacer una revisión de todas las variables con respecto a las reservaciónes canceladas.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="analisis-exploratorio-de-datos.html#cb1-1" aria-hidden="true" tabindex="-1"></a>sub_cancelados <span class="ot">&lt;-</span> <span class="fu">subset</span>(train, is_canceled <span class="sc">==</span> <span class="st">&quot;cancelado&quot;</span>)</span></code></pre></div>
<p>Iniciamos con la revisión de los histogramas de cada variable para ver si podemos identificar algun compartamiento interesante. A continuación se muestran los histogramas de las variables más interesantes a nuestro criterio, nuevamente puede consultar la exploración completa de los datos en <a href="https://github.com/marcoyel21/hotel_cancelation_ML21/blob/main/final/EDA_Cancelaciones.Rmd">EDA</a>.</p>
<p><strong>Lead_time:</strong> la distribución de sus datos no tiene un comportamiento lógico, porque el mayor número de cancelaciones proviene de o días previos de reservación, pero luego se mueve a valores de 90 días, 40 días y luego regresa a 2 días. será importante ver si existe algún patrón en esta variable.</p>
<p><img src="final_bookdown_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><strong>Agregar comparacion poblaciones</strong> ##########################################
#################################################</p>
<p><strong>Country:</strong> esta variable presenta un dato totalmente atípico en la categoría PRT por lo que es importante considerarla ya que podría explicar una porción importante de las cancelaciones.</p>
<center>
<p>#<img src="country.png" /></p>
</center>
<p><strong>Deposit_type:</strong> aqui hay otro caso ilógico, ya que la categoría de no rembolsable está muy por arriba de los rembolsable, uno pensaría que debería ser menos frecuenta la cancelación si no te van a devolver tu dinero. por lo que es otra variable importante.</p>
<p><img src="final_bookdown_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Analisando la variable <strong>deposit_type</strong>, se extrae el subset de deposit_type cancelados. Revisamos los porcentajes de cada categoría en las otras variables y observamos que el 97% de las cancelaciones sin rembolso pertenecen al país PRT.</p>
<pre><code>## 
##         BEL          CN         ESP         FRA         GBR        NULL 
## 0.001370802 0.000685401 0.010281014 0.001028101 0.010966415 0.002398903 
##         POL         PRT 
## 0.002056203 0.971213160</code></pre>
<p><strong>Joel</strong> añadir descubrimientos agent 1 portugal discucsión</p>
</div>
<div id="análisis-de-tendenciás-en-el-tiempo-eda" class="section level3" number="2.0.2">
<h3><span class="header-section-number">2.0.2</span> Análisis de tendenciás en el tiempo EDA</h3>
<p>Para analizar tendencias de cancelación en el timepo se agrupan las cancelaciones por fecha.</p>
<p><img src="final_bookdown_files/figure-html/unnamed-chunk-10-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Se procede a hacer un análisis de <a href="https://es.wikipedia.org/wiki/Serie_temporal">series de tiempo</a>.</p>
<p><img src="final_bookdown_files/figure-html/unnamed-chunk-12-1.png" width="672" style="display: block; margin: auto;" />
<strong>Joel</strong> Analisis días de la semana</p>
<p><img src="final_bookdown_files/figure-html/unnamed-chunk-13-1.png" width="90%" style="display: block; margin: auto;" />
<strong>Joel</strong> Picos durante el año
<img src="final_bookdown_files/figure-html/unnamed-chunk-14-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="preparación-de-los-datos.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["final_bookdown.pdf", "final_bookdown.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
